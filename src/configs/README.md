# Шаблоны для файлов конфигурации

## Заполнение файла конфигурации для скрипта конвертирования моделей

### Правила заполнения файла конфигурации для скрипта конвертирования моделей

- Файл конфигурации описывается в формате XML.
- Шаблон тегов находится в файле `converter_configuration_file_template.xml`.
- Кодирование файла осуществляется в формате `utf-8`.
- Корневой тег `Models`.
- Каждая модель для конвертации описывается внутри тегов `Model`.
- Первым обязательным параметром для конвертации является путь до модели.
  Параметр описывается внутри тегов `ModelFile`.
- Вторым обязательным параметром для конфертации является путь,
  в какую директорию сохранить модель в промежуточном состоянии.
  Параметр описывается внутри тегов `OutputDIR`.
- Необязательным набором параметров являются дополнительные параметры
  для конвертации модели. Параметры описываются внутри тегов `AdditionalOptions`.

### Пример заполнения файла конфигурации для скрипта конвертирования моделей

```xml
<?xml version="1.0" encoding="utf-8" ?>
<Models>
    <Model>
        <ModelFile>densenet-121.caffemodel</ModelFile>
        <OutputDIR>C:/classification/densenet/121/IR/</OutputDIR>
        <AdditionalOptions>--data_type FP32</AdditionalOptions>
    </Model>
    <Model>
        <ModelFile>densenet-161.caffemodel</ModelFile>
        <OutputDIR>C:/classification/densenet/161/IR/</OutputDIR>
        <AdditionalOptions></AdditionalOptions>
    </Model>
</Models>
```

## Заполнение файла конфигурации для скрипта замера производительности

### Правила заполнения файла конфигурации для скрипта замера производительности

Общие параметры теста:

- Файл конфигурации описывается в формате XML.
- Шаблон тегов находится в файле `benchmark_configuration_file_template.xml`.
- Кодирование файла осуществляется в формате `utf-8`.
- Корневой тег `Tests`.
- Каждый тест описывается внутри тегов `Test`.
- Информация о модели описывается внутри тегов `Model`.
- Имя модели описывается внутри тегов `Name`.
- Путь до папки с моделью в промежуточном формате Inference Engine
  описывается внутри тега `Path`.
- Информация о выборке описывается внутри тегов `Dataset`.
- Имя выборки описывается внутри тегов `Name`.
- Путь до папки с выборкой описывается внутри тегов `Path`.
- Информация о параметрах теста описывается внутри тегов `Parameters`.

Параметры для тестирования синхронного режима:

- Обязательным параметром является количество картинок,
  обрабатываемых за один прямой проход сети.
  Параметр описывается внутри тега `BatchSize`.
- Обязательным параметром является режим тестирования.
  Для синхронного режима необходимо записать `Sync` внутри тегов `Mode`.
- Обязательным параметром является устройсво для теста.
  Параметр задается внутри тега `Plugin`.
- Обязательным параметром является количество итераций цикла тестирования.
  Параметр описывается внутри тега `IterationCount`.
- Обязательным параметром является минимальное время выполнения вывода.
  Параметр описывается внутри тегов `MinInferenceTime`.
- Остальные параметры допустимо оставить пустыми.

Параметры для тестирования асинхронного режима:

- Обязательным параметром является количество картинок,
  обрабатываемых за один прямой проход сети.
  Параметр описывается внутри тега `BatchSize`.
- Обязательным параметром является режим тестирования.
  Для асинхронного режима необходимо записать `Async` внутри тегов `Mode`.
- Обязательным параметром является количество запросов, выполняемых одновременно.
  Параметр задается внутри тега `AsyncRequestCount`
- Обязательным параметром является устройсво для теста.
  Параметр описывается внутри тега `Plugin`.
- Обязательным параметром является количество итераций.
  Параметр описывается внутри тега `IterationCount`.
- Остальные параметры допустимо оставить пустыми.

### Пример заполнения файла конфигурации для скрипта замера производительности

```xml
<?xml version="1.0" encoding="utf-8" ?>
<Tests>
    <Test>
        <Model>
            <Name>densenet-121</Name>
            <Path>C:/classification/densenet/121/IR/</Path>
        </Model>
        <Dataset>
            <Name>ImageNet</Name>
            <Path>C:/ImageNET/</Path>
        </Dataset>
        <Parameters>
            <BatchSize>10</BatchSize>
            <Mode>Sync</Mode>
            <Plugin>CPU</Plugin>
            <AsyncRequestCount></AsyncRequestCount>
            <IterationCount>10</IterationCount>
            <MinInferenceTime>0.005</MinInferenceTime>
        </Parameters>
    </Test>
    <Test>
        <Model>
            <Name>densenet-121</Name>
            <Path>C:/classification/densenet/121/IR/</Path>
        </Model>
        <Dataset>
            <Name>ImageNet</Name>
            <Path>C:/ImageNET/</Path>
        </Dataset>
        <Parameters>
            <BatchSize>10</BatchSize>
            <Mode>Async</Mode>
            <Plugin>CPU</Plugin>
            <AsyncRequestCount>1</AsyncRequestCount>
            <IterationCount>10</IterationCount>
            <MinInferenceTime></MinInferenceTime>
        </Parameters>
    </Test>
</Tests>
```

## Заполнение файла конфигурации для скрипта удаленного запуска

### Правила заполнения файла конфигурации для скрипта удаленного запуска

- Файл конфигурации описывается в формате XML.
- Шаблон тегов находится в файле `remote_configuration_file_template.xml`.
- Кодирование файла осуществляется в формате `utf-8`.
- Корневой тег `Computers`.
- Каждый компьютер, на котором производится запуск бенчмарка описывается 
  внутри тегов `Computer`.
- Первый параметр это IP компьютера, на котором планируется запуск.
  Параметр описывается внутри тегов `IP`.
- Второй параметр это Login пользователя компьютера,
  на котором планируется запуск.
  Параметр описывается внутри тегов `Login`.
- Третий параметр это Password пользователя компьютера,
  на котором планируется запуск.
  Параметр описывается внутри тегов `Password`.
- Четвертый параметр это OS установленная на компьютер,
  на котором планируется запуск.
  Параметр описывается внутри тегов `OS`.
- Пятый параметр это путь до скрипта ftp_client.py в папке remote_start,
  на компьютер предварительно нужно склонировать наш репозиторий.
  Параметр описывается внутри тегов `FTPClientPath`.
- Шестой параметр это путь до файла устанавливающего 
  окружение OpenVINO.
  Параметр описывается внутри тегов `OpenVINOEnvironmentPath`.
- Седьмой параметр это путь до конфигурации бенчмарка.
  Параметр описывается внутри тегов `Benchmark_config`.
- Восьмой параметр это имя файла, в который запишется лог работы программы.
  Параметр описывается внутри тегов `LogFile`.
- Седьмой параметр это имя таблицы, в которую
  запишется результат работы программы.
  Параметр описывается внутри тегов `ResultFile`.

### Пример заполнения файла конфигурации для скрипта удаленного запуска

```xml
<?xml version="1.0" encoding="utf-8" ?>
<Computers>
    <Computer>
        <IP>4.4.4.4</IP>
        <Login>Admin</Login>
        <Password>Admin</Password>
        <OS>Windows</OS>
        <FTPClientPath>/openvino-dl-benchmark/src/remote_control/ftp_client.py</FTPClientPath>
        <OpenVINOEnvironmentPath>C:/Intel/computer_vision_sdk_2018.4.420/bin/setupvars.bat</OpenVINOEnvironmentPath>
        <Benchmark_config>/openvino-dl-benchmark/src/configs/benchmark_configuration.xml</Benchmark_config>
        <LogFile>program_log.txt</LogFile>
        <ResultFile>result_table.csv</ResultFile>
    </Computer>
</Computers>
```