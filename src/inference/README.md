# Тестирование глубоких моделей

## Тестирование глубоких моделей в синхронном режиме

```bash
inference_sync_mode.py [TBD]
```

Параметры запуска:
- [TBD]

## Тестирование глубоких моделей в асинхронном режиме


**Командная строка для решения задачи классификации изображений**
```bash
python inference_async_mode.py \
    -t classification -i <path_to_image>/image.png \
    -m <path_to_model>/<model_name>.xml -w <path_to_weights>/<model_name>.bin \
    -r 1 --labels <path_to_labels>/image_net_synset.txt -ni 10
```

Результат выполнения: набор наиболее вероятных классов, которым принадлежит
изображение.


**Командная строка для решения задачи детектирования объектов**
```bash
python inference_async_mode.py \
    -t detection -i <path_to_image>/image.png \
    -m <path_to_model>/<model_name>.xml -w <path_to_weights>/<model_name>.bin \
    -r 1 -d GPU -ni 10
```

Результат выполнения: набор окаймляющих прямоугольников, соответствующих
обнаруженным объектам.


**Командная строка для решения задачи семантической сегментации изображений**
```bash
python inference_async_mode.py \
    -t segmentation -i <path_to_image>/image.png \
    -m <path_to_model>/<model_name>.xml -w <path_to_weights>/<model_name>.bin \
    -r 1 --color_map <path_to_color_map>/color_map.txt -ni 10
```

Результат выполнения: изображение, разрешение которого совпадает с разрешением
входного изображения; интенсивность пикселя соответствует классу объектов,
которому принадлежит даннная точка на изображении.


Параметры запуска:
- `-t / --model_type` - решаемая задача (`classification`, `detection`, `segmentation`).
- `-i / --input` - путь до изображения или директории с изображениями,
  расширения картинок `.jpg`, `.png`, `.bmp` и т.д.
- `-m / --model` - путь до описания модели (xml).
- `-w / --weights` - путь до бинарного файла, содержащего веса обученной модели.
- `-r / --request` - положительное целое число, определяющее количество
  запросов на одновременную обработку в асинхронном режиме. Возможные значения:
  1 (равносилен синхронному режиму) и 2 (равносилен двухэтапному конвейеру).
- `--labels` - путь до файла с перечнем классов при решении задачи классификации.
- `-d / --device` - устройство, на котором выполняются вычисления
  (`CPU`, `GPU`, `FPGA`, `MYRIAD`).
- `--color_map` - путь до карты цветов при решении задачи семантической сегментации.
- `-ni / --number_iter` - число итераций асинхронного режима.
